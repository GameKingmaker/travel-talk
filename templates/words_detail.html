{% extends "base.html" %}
{% block content %}

<style>
  .wrap{
    max-width: 1080px;
    margin: 0 auto;
    padding: 22px 18px 48px;
  }

  .head{
    display:flex;
    align-items:flex-end;
    justify-content:space-between;
    gap:16px;
    margin-bottom:14px;
  }
  .title{
    font-size:34px;
    font-weight:900;
    letter-spacing:-0.5px;
    margin:0;
  }
  .sub{
    margin:6px 0 0;
    color:#6b7280;
    font-size:14px;
    line-height:1.4;
  }

  .top-actions{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-top:14px;
  }
  .btn{
    display:inline-flex;
    align-items:center;
    justify-content:center;
    height:40px;
    padding:0 14px;
    border-radius:12px;
    border:1px solid rgba(15,23,42,.10);
    background:#fff;
    text-decoration:none;
    color:#0f172a;
    font-weight:800;
  }
  .btn:hover{
    border-color: rgba(37,99,235,.22);
    box-shadow: 0 8px 18px rgba(37, 99, 235, 0.10);
  }

  .search-row{
    display:flex;
    gap:10px;
    margin-top:14px;
  }
  .search-row input{
    flex:1;
    height:44px;
    border-radius:14px;
    border:1px solid rgba(15, 23, 42, 0.10);
    padding:0 14px;
    outline:none;
  }
  .search-row button{
    height:44px;
    padding:0 16px;
    border-radius:14px;
    border:none;
    background:#2563eb;
    color:#fff;
    font-weight:800;
    cursor:pointer;
  }

  .card{
    margin-top:16px;
    background:#ffffff;
    border:1px solid rgba(15, 23, 42, 0.08);
    border-radius:16px;
    padding:14px;
    box-shadow: 0 6px 18px rgba(15, 23, 42, 0.06);
  }

  table{
    width:100%;
    border-collapse:separate;
    border-spacing:0;
    overflow:hidden;
    border-radius:14px;
  }
  th, td{
    text-align:left;
    padding:10px 12px;
    border-bottom:1px solid rgba(15, 23, 42, 0.06);
    font-size:14px;
  }
  th{
    background:#f8fafc;
    font-weight:900;
  }
  tr:last-child td{ border-bottom:none; }
  .muted{ color:#6b7280; font-size:12px; margin-top:10px; }
</style>
<div class="wrap">

<section class="page-head">
  <h1>ì¼ë³¸ ì—¬í–‰ í•„ìˆ˜ ì¼ë³¸ì–´ ë‹¨ì–´ ëª¨ìŒ Â· {{ title }}</h1>

  {% if page_intro %}
    <p class="page-guide">{{ page_intro }}</p>
  {% else %}
    <p class="page-guide">ì¼ë³¸ ì—¬í–‰ ì¤‘ ìì£¼ ì“°ëŠ” {{ title }} í•„ìˆ˜ ì¼ë³¸ì–´ ë‹¨ì–´ë¥¼ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.</p>
  {% endif %}

  <p class="page-guide">
    ì¼ë³¸ì–´ / ë°œìŒ / í•œêµ­ì–´ ëœ» 3ì¤„ë¡œ í™•ì¸í•˜ì„¸ìš”.<br>
    â€» â˜… ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì¦ê²¨ì°¾ê¸°ì— ì €ì¥ë©ë‹ˆë‹¤.
  </p>

  <div class="back-row">
    <a class="back-btn" href="{{ url_for('words_categories') }}">â† ë¶„ë¥˜ ëª©ë¡</a>
  </div>
</section>



    <div class="card phrase-list">
    <table>
      <thead>
  <tr>
    <th style="width:90px;">ì¦ê²¨ì°¾ê¸°</th>
    <th style="width:25%;">ì¼ë³¸ì–´</th>
    <th style="width:25%;">ë°œìŒ</th>
    <th>ëœ»</th>
  </tr>
</thead>


      <tbody>
      {% for row in (rows or []) %}
        {# rowsê°€ dictë“  tuple/listë“  ëŒ€ì‘ #}
        {% set jp   = row.jp   if row.jp   is defined else row[0] %}
        {% set pron = row.pron if row.pron is defined else row[1] %}
        {% set ko   = row.ko   if row.ko   is defined else row[2] %}

        {% set is_fav = (fav_jp_set and (jp in fav_jp_set)) %}

        <tr>
          <td>
            <button type="button"
                    class="fav-btn {% if is_fav %}on{% endif %}"
                    data-cat="{{ cat_key }}"
                    data-jp="{{ jp }}">
              {% if is_fav %}â˜…{% else %}â˜†{% endif %}
            </button>
          </td>

          <td>
            <span class="jp-text">{{ jp }}</span>
            <button type="button" class="tts-btn" data-tts="{{ jp }}">ğŸ”Š</button>
          </td>

          <td><span class="p-pron">{{ pron }}</span></td>
          <td><span class="p-ko">{{ ko }}</span></td>
        </tr>
      {% endfor %}
      </tbody>
    </table>

    <div class="muted">ì´ {{ (rows or [])|length }}ê°œ</div>
  </div>

</div>

{% endblock %}
